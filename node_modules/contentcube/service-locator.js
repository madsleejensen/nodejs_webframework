module.exports = function locator(application) {
	
	var mDatabase;
	var instance = {};
	
	/**
	 * Lazy loader for a mongolian singleton instance.
	 * @return {mongolian}
	 */
	instance.getDatabase = function() {
		if (!mDatabase) {
			var connection = application.config.get('mongodb.host') + ':' + application.config.get('mongodb.port');
			var databaseServer = new Mongolian(connection);
			
			mDatabase = databaseServer.db(instance.config.get('mongodb.database'));
		}
		
		return mDatabase;
	};
	
};